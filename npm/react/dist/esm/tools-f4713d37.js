import{b as e,a as t,d as a,c as n}from"./_rollupPluginBabelHelpers-46bbe078.js";import r from"react-dom";import{createContext as o}from"react";var l,i=r;if("production"===process.env.NODE_ENV)l=i.createRoot,i.hydrateRoot;else{var c=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;l=function(e,t){c.usingClientEntryPoint=!0;try{return i.createRoot(e,t)}finally{c.usingClientEntryPoint=!1}}}var u=o(void 0);function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return"undefined"!=typeof window&&(e=document),e.querySelectorAll('section[section-type="laravext-nexus-section"]')}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return"undefined"!=typeof window&&(e=document),e.querySelectorAll('section[section-type="laravext-strand-section"]')}function v(e,t){return p.apply(this,arguments)}function p(){return(p=e(n().mark((function e(t,a){var r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==(r=a[t])){e.next=3;break}throw new Error("Page not found: ".concat(t));case 3:return e.abrupt("return","function"==typeof r?r():r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(){var e;return!["development","local"].includes(null!==(e=import.meta.env.VITE_APP_ENV)&&void 0!==e?e:"production")}function x(e){var t="a"===e.currentTarget.tagName.toLowerCase();return!(e.target&&null!=e&&e.target.isContentEditable||e.defaultPrevented||t&&e.altKey||t&&e.ctrlKey||t&&e.metaKey||t&&e.shiftKey||t&&"button"in e&&0!==e.button)}function w(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=null!=r?r:window.__laravext.page_data,c=window.__laravext.app.nexusResolver,v=window.__laravext.app.strandsResolver,p=window.__laravext.app.conventions,x=window.__laravext.app.beforeSetup,w=window.__laravext.app.setup,f=window.__laravext.app.setupNexus,g=window.__laravext.app.setupStrand,m=window.__laravext.app.reverseSetupOrder;if(x&&x({laravext:window.__laravext}),c){var E,y=null==i||null===(E=i.nexus)||void 0===E||null===(E=E.page)||void 0===E?void 0:E.replaceAll("\\","/");d().forEach((function(t){y&&c(y).then(function(){var a=e(n().mark((function e(a){var r,d,s,v,x,g,E,b,h,R,N,P,S,A;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_()||console.debug("Loading page at ".concat(y)),s=React.createElement(a.default,{laravext:i}),_()||console.debug("Page at ".concat(y," loaded successfully")),p=p.filter((function(e){return"page"!==e})),v=0;case 5:if(!(v<p.length)){e.next=22;break}if(null==i||null===(x=i.nexus)||void 0===x||!x[p[v]]){e.next=19;break}return e.prev=7,_()||console.debug("Loading convention ".concat(p[v]," at ").concat(null==i||null===(E=i.nexus)||void 0===E?void 0:E[p[v]])),e.next=11,c(null==i||null===(g=i.nexus)||void 0===g?void 0:g[p[v]]);case 11:b=e.sent,_()||console.debug("Convention ".concat(p[v]," at ").concat(null==i||null===(h=i.nexus)||void 0===h?void 0:h[p[v]]," loaded successfully")),s=React.createElement(b.default,{laravext:i},s),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(7),console.error("Error loading convention ".concat(p[v]," at ").concat(null==i||null===(R=i.nexus)||void 0===R?void 0:R[p[v]],":"),e.t0);case 19:v++,e.next=5;break;case 22:N=null!==(r=null===(d=window.__laravext.app)||void 0===d?void 0:d.react_nexus_root)&&void 0!==r?r:l(t),m&&f&&(s=f({nexus:s,laravext:window.__laravext})),w&&(s=w({component:s,laravext:window.__laravext})),!m&&f&&(s=f({nexus:s,laravext:window.__laravext})),(P=window.__laravext).page_data=i,s=React.createElement(u.Provider,{value:P},s),N.render(s),window.__laravext.app.react_nexus_root=N,window.__laravext.page_data=i,null!=o&&window.scrollTo(null!==(S=o.x)&&void 0!==S?S:0,null!==(A=o.y)&&void 0!==A?A:0);case 33:case"end":return e.stop()}}),e,null,[[7,16]])})));return function(e){return a.apply(this,arguments)}}()).catch((function(e){console.error("Error loading page at ".concat(y,":"),e)}))}))}if(v){var b,h=s();void 0===(null===(b=window.__laravext.app)||void 0===b?void 0:b.react_strand_roots)&&(window.__laravext.app.react_strand_roots={});var R=window.__laravext.app.react_strand_roots;h.forEach((function(e){var n=e.getAttribute("strand-component"),r=JSON.parse(e.getAttribute("strand-data"));n&&v(n).then((function(n){var o=React.createElement(n.default,t({laravext:a({},i)},r)),c=e.getAttribute("id"),d=R[c];void 0===d&&(d=l(e)),m&&g&&(o=g({strand:o,laravext:i,strandData:r})),w&&(o=w({component:o,laravext:i})),!m&&g&&(o=g({strand:o,laravext:i,strandData:r}));var s=window.__laravext;s.page_data=i,o=React.createElement(u.Provider,{value:s},o),d.render(o),window.__laravext.app.react_strand_roots[c]=d,window.__laravext.page_data=i})).catch((function(e){console.error("Error loading component at ".concat(n,":"),e)}))}))}}u.displayName="LaravextContext";export{u as L,s as a,w as c,d as f,_ as i,v as r,x as s};
